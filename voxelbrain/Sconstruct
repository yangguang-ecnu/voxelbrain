env = Environment()
conf = Configure(env)
ALL_LIBS=["SDL","SDLmain"]

#checking libs:
if conf.CheckLib('GL'): 
	ALL_LIBS += ['GL']
elif conf.CheckLib('opengl32'):
	ALL_LIBS += ['opengl32']
else:
	print "Opengl library needed."
	exit(1)

if conf.CheckLib('GLU'):
	ALL_LIBS += ['GLU']
elif conf.CheckLib('glu32'):
	ALL_LIBS += ['glu32']
else:
	print "Glu library needed."
	exit(1)

env = conf.Finish()

env.Program("voxbr", ["main.cpp", "glbase.cpp", "v3.cpp", "volio.cpp", "nifti.cpp", "misc.cpp", "undo.cpp", "propagator.cpp"], CPPPATH=["sparsehash/src"], CPPFLAGS=["-g", "-O3"], LIBS=ALL_LIBS)
